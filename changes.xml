<?xml version="1.0" encoding="UTF-8"?>
<!--
  #%L
  wcm.io
  %%
  Copyright (C) 2017 wcm.io
  %%
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  #L%
  -->

<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/changes/1.0.0"
    xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 https://maven.apache.org/plugins/maven-changes-plugin/xsd/changes-1.0.0.xsd">
  <body>

    <release version="3.3.0" date="not released">
      <action type="update" dev="sseifert">
        Support Java 11 in Cloud Manager.
      </action>
      <action type="update" dev="sseifert">
        Use core component container as root container in editable templates.
      </action>
      <action type="update" dev="sseifert">
        Use AEM-specific node type definitions for filevault-package-maven-plugin validation.
      </action>
      <action type="update" dev="sseifert">
        Define valid roots in conf and sample content packages for filevault-package-maven-plugin validation.
      </action>
      <action type="update" dev="sseifert">
        wcm.io Handler: Add configuration to support previews of inline images in edit dialogs on Authoring instances for these resource types.
      </action>
      <action type="update" dev="sseifert">
        Replace apps-repository-structure package with validRoots configuration definitions which is more compact and easy to maintain.
      </action>
      <action type="update" dev="sseifert">
        Use principal-based authentication for service user mapping of wcm.io services. Use dam-writer-service instead of creating a custom service user for media handler.
      </action>
      <action type="update" dev="sseifert">
        Update to aem-global-parent 1.5.0 and define dependencies for OSGi annotations in parent POM.
      </action>
      <action type="update" dev="sseifert">
        Do no longer embed ui.apps content package in complete content packges as it may fail the AEM clouds service image build.
      </action>
      <action type="update" dev="sseifert">
        Switch to individual OSGi artifacts with compile dependency instead of osgi.core and osgi.cmpn with provided dependency.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP7.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="3.2.6" date="2020-09-27">
      <action type="add" dev="sseifert">
        Generate archetype.properties with parameters used to generate the project.
      </action>
      <action type="fix" dev="sseifert"><![CDATA[
        Workaround for <a href="https://github.com/adobe/aem-core-wcm-components/issues/1187">#1187</a>: Use responsive grid mode for content container in sample templates.
      ]]></action>
      <action type="fix" dev="sseifert">
        Fix custom carousel CSS error when generating without frontend module.
      </action>
    </release>

    <release version="3.2.4" date="2020-09-26">
      <action type="update" dev="sseifert">
        conf-content: Set fixed date when downloading content package and marking nodes as replicated.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP6.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="3.2.2" date="2020-08-26">
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="update" dev="sseifert">
        Remove some obsolete workarounds for AEM cloud service.
      </action>
    </release>

    <release version="3.2.0" date="2020-07-11">
      <action type="add" dev="sseifert">
        Add experience fragment template.
      </action>
      <action type="add" dev="sseifert">
        Add proxy components for all core components.
      </action>
      <action type="add" dev="sseifert"><![CDATA[
        Add integration tests based on <a href="https://github.com/adobe/aem-testing-clients" target="_blank">AEM testing clients</a> (optional).
      ]]></action>
      <action type="update" dev="sseifert">
        Rename custom carousel component to customcarousel.
      </action>
      <action type="update" dev="sseifert">
        LinkHandler: Enable InternalCrossContextLinkType by default.
      </action>
      <action type="update" dev="sseifert">
        Do not generate source JARs for content package projects.
      </action>
      <action type="update" dev="sseifert">
        Default Sling logging configuration: Enabled "packaging data".
      </action>
      <action type="update" dev="sseifert">
        conf-content: Make sure activated status is not set in initial content section of editable templates.
      </action>
      <action type="update" dev="sseifert">
        sample-content: Enable cloud configurations folder by default.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="3.1.0" date="2020-06-28">
      <action type="update" dev="sseifert">
        AEM cloud service: Use a single "cloud" CONGA environment for all cloud environments because AEM cloud service does not yet support deploying environment runmode-depending packages.
      </action>
      <action type="update" dev="sseifert">
        AEM cloud service: Set default expiration time for text/html responses to 0 minutes.
      </action>
      <action type="update" dev="sseifert">
        conf-content package: Set replication status for all cq:Page and cq:Template nodes to "Activated" by default.
      </action>
      <action type="update" dev="sseifert">
        When generating a new project for AEM Cloud service: Dynamically use latest version of io.wcm.maven.aem-cloud-dependencies that is available.
      </action>
      <action type="update" dev="sseifert">
        Do not set longCacheKey for AEM client libraries on AEM cloud service - it's active by default by generating a hash for each client library.
      </action>
      <action type="update" dev="sseifert">
        Enable Data Layer by default.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP5.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="remove" dev="sseifert">
        Drop support for AEM 6.3.
      </action>
    </release>

    <release version="3.0.0" date="2020-04-28">
      <action type="add" dev="sseifert">
        Add support for AEM Cloud Service.
      </action>
      <action type="add" dev="sseifert">
        Add apps-repository-structure package for validating application content packages root folders.
      </action>
      <action type="update" dev="sseifert">
        Enable "reproducible builds" in Maven Build process.
      </action>
      <action type="update" dev="sseifert">
        Use repoinit to define service users.
      </action>
      <action type="update" dev="sseifert">
        Set packageType and enable FileVault validation for all CONGA-generated content packages.
      </action>
      <action type="update" dev="sseifert">
        complete package: include ui.apps package using embedd instead of subPackage.
      </action>
      <action type="update" dev="sseifert">
        Rename CONGA environment "development" to "local".
      </action>
      <action type="update" dev="sseifert">
        Rename CONGA parameter "log.projectSpecificLogLevel" to "app.logLevel".
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP4, AEM 6.4 SP8.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="2.4.8" date="2020-01-30">
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="update" dev="sseifert">
        Add io.wcm.testing.wcm-io-mock.wcm as test dependency.
      </action>
      <action type="update" dev="sseifert">
        Use io.wcm.testing.logging.logback test dependency instead of org.apache.sling.testing.logging-mock for AEM 6.5.3 and up.
      </action>
    </release>

    <release version="2.4.6" date="2019-12-16">
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP3, AEM 6.4 SP7.
      </action>
      <action type="fix" dev="sseifert">
        Fix generation of long cache keys for client libraries after switch to bnd-maven-plugin.
      </action>
    </release>

    <release version="2.4.4" date="2019-11-25">
      <action type="update" dev="sseifert">
        Switch from maven-bundle-plugin to bnd Maven plugins.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Fix package filter in conf-content package for conf root node.
      </action>
    </release>

    <release version="2.4.2" date="2019-10-02">
      <action type="update" dev="sseifert">
        Update to Core Components 2.7.0.
      </action>
      <action type="update" dev="sseifert">
        Exclude dam:thumbnail nodes for editable template definitions.
      </action>
      <action type="update" dev="sseifert">
        Include "core.wcm.components.image.v2" in clientlibs only when wcm.io WCM Core Components are not used.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP2, AEM 6.4 SP6.
      </action>
      <action type="update" dev="sseifert">
        Rename folder with generated project to project name after generation.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Fix invalid link reference page properties tab in redirect template.
      </action>
    </release>

    <release version="2.4.0" date="2019-08-23">
      <action type="add">See <![CDATA[<a href="https://wcm-io.atlassian.net/wiki/x/BgCKS">What's new in Maven Archetype for AEM 2.4.0</a>]]> for an overview of the new features.</action>
      <action type="add" dev="sseifert"><![CDATA[
        Make use of <a href="https://wcm.io/wcm/core-components/">wcm.io WCM Core Components</a> when wcm.io Handler is activated.
      ]]></action>
      <action type="update" dev="sseifert">
        Remove AEM instance URLs/port numbers from build-deploy.sh and build-deploy-publish.sh and read them from parent POM.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 SP1 and AEM 6.4 SP5.
      </action>
      <action type="fix" dev="ifahrentholz">
        Frontend: Fix source map generation for SCSS.
      </action>
      <action type="fix" dev="sseifert">
        Add resource definition for jcr_root folders in content package modules to support sling:fsmount goal.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="2.3.0" date="2019-06-26">
      <action type="update" dev="sseifert">
        Deploy client libraries to /apps with proxy mode.
      </action>
      <action type="update" dev="sseifert">
        Use wcm.io Clientlibs UI Extensions for including AEM clientlibs (when wcm.io Handler is enabled).
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="update" dev="sseifert">
        Update Mobile Device Emulator Configurations for AEM 6.4+.
      </action>
      <action type="update" dev="ifahrentholz">
        Update frontend build dependencies and apply latest best practices to build.
      </action>
      <action type="fix" dev="sseifert">
        Fix package filter in aem-cms-config package to ensure configurations depending on run modes is deployed as well.
      </action>
    </release>

    <release version="2.2.0" date="2019-05-09">
      <action type="add" dev="sseifert">
        Add new parameter "optionJavaVersion" with support for Java 8 and Java 11.
      </action>
      <action type="add" dev="sseifert">
        Add new parameter "optionNodeJsPlugin" to switch between wcm.io NodeJS plugin and frontend-maven-plugin.
      </action>
      <action type="update" dev="sseifert">
        Add support for AEM 6.5 and AEM 6.4 SP4.
      </action>
      <action type="update" dev="sseifert">
        Move rewriter configuration to CONGA template.
      </action>
      <action type="update" dev="sseifert" issue="WTOOL-48">
        Restructure generated folder structure: always generate "/core" subfolder f√ºr AEM webapp, regardless of optionMultiBundleLayout setting.
        Put install folder (complete package) and config folder (CONGA-generated) below main application folder in /apps.
      </action>
      <action type="update" dev="sseifert">
        Exclude folder thumbnails from DAM sample content.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="bdang">
        Align url handler externalizer's rewriteElements config for FileVault layout to the state of Sling-Initial content layout.
      </action>
      <action type="fix" dev="sseifert">
        aem-cms-config: Use correct array syntax for DefaultGetServlet configuration.
      </action>
    </release>

    <release version="2.1.4" date="2019-03-15">
      <action type="update" dev="sseifert">
        Use wcm.io Link Handler Link Reference Container and Granite UI widgets for link selection.
      </action>
      <action type="update" dev="sseifert">
        Use wcm.io Rich Text Handler RTE Custom Link plugin.
      </action>
      <action type="update" dev="sseifert">
        Update build-deploy.sh to display total script execution time.
      </action>
      <action type="update" dev="sseifert">
        Use bash shebang in all shell scripts.
      </action>
      <action type="update" dev="sseifert">
        Make build compatible with Java 11.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="2.1.2" date="2019-02-22">
      <action type="update" dev="sseifert">
        Enable auto-cropping for image and carousel components (with wcm.io Handler).
      </action>
      <action type="update" dev="sseifert">
        Use wcm.io Media Handler File Upload and Path Field Granite UI widgets.
      </action>
      <action type="update" dev="sseifert">
        Use "Site Root Path" Granite UI widget in link dialogs.
      </action>
      <action type="update" dev="sseifert">
        Use Media Handler-aware placeholder HTL template.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Keep aspect ratio for both image and carousel components (CSS fix).
      </action>
      <action type="fix" dev="sseifert">
        Fix path to imageEditConfig.
      </action>
      <action type="fix" dev="sseifert">
        Fix Context-Aware Configuration Home Template configuration with editable templates.
      </action>
    </release>

    <release version="2.1.0" date="2019-01-29">
      <action type="update" dev="sseifert">
        Use standard names for asset references and enable in-place edit mode for image components with wcm.io Media handler.
      </action>
      <action type="update" dev="sseifert">
        Do not use ordered folder for assets.
      </action>
      <action type="update" dev="sseifert">
        Do not generate conf-content content package if editable templates is not enabled.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Remove superfluous ? from Wcmio-CAService-ContextPathRegex bundle header.
      </action>
      <action type="fix" dev="sseifert">
        Remove allowedChildren setting for editable templates - has no effect anyway. Fix allowedChildren settings for classic templates to also allow editable templates below.
      </action>
      <action type="fix" dev="sseifert">
        Include clientlib core.wcm.components.image.v2 by default.
      </action>
      <action type="fix" dev="sseifert">
        Fix ACLs for DAM system user.
      </action>
    </release>

    <release version="2.0.8" date="2019-01-16">
      <action type="update" dev="sseifert">
        Support AEM 6.4 SP3.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="update" dev="sseifert">
        Disable built-in AEM link checker by default (enable it only when configured properly).
      </action>
    </release>

    <release version="2.0.6" date="2018-12-05">
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Do not delete admin templates when enabling editable templates.
      </action>
      <action type="fix" dev="sseifert">
        Do not show (empty) link dialog for redirect page in page creation wizard.
      </action>
    </release>

    <release version="2.0.4" date="2018-10-17">
      <action type="update" dev="sseifert">
        Support AEM 6.3 SP3, AEM 6.4 SP2.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="2.0.2" date="2018-09-08">
      <action type="fix" dev="sseifert">
        Fix broken carousel edit dialog in FileVault XML.
      </action>
    </release>

    <release version="2.0.0" date="2018-09-05">
      <action type="add" dev="sseifert">
        Add webpack-based frontend build.
      </action>
      <action type="update" dev="sseifert">
        Refactor sample components and sample content.
      </action>
      <action type="update" dev="sseifert">
        Switch to JUnit 5 for unit tests.
      </action>
      <action type="remove" dev="sseifert">
        Drop support for AEM 6.1 and AEM 6.2.
      </action>
    </release>

    <release version="1.1.2" date="2018-09-03">
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="1.1.0" date="2018-05-26">
      <action type="add" dev="sseifert">
        Add support for AEM 6.4.
      </action>
      <action type="update" dev="sseifert">
        Update to Core Components 2.0.6 (for AEM 6.4 and AEM 6.3 SP2).
      </action>
      <action type="fix" dev="sseifert">
        Enable JSON for Sling Default Get Servlet on publish - required for some OOTB administrative features.
      </action>
      <action type="update" dev="sseifert">
        Declare OSGi and AEM dependencies provided - each project should have full control about the dependency order of them.
      </action>
      <action type="update" dev="sseifert">
        Update link rewriter config.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
    </release>

    <release version="1.0.4" date="2018-02-05">
      <action type="update" dev="sseifert">
        Update to aem-global-parent 1.2.16.
      </action>
      <action type="update" dev="sseifert" issue="WTOOL-44">
        Add extra validation to make sure java package name is valid.
      </action>
      <action type="update" dev="sseifert">
        Update dependencies.
      </action>
      <action type="fix" dev="sseifert">
        Disable configuration editor on publish.
      </action>
    </release>

    <release version="1.0.2" date="2018-01-15">
      <action type="update" dev="sseifert">
        Update to aem-global-parent 1.2.14.
      </action>
      <action type="update" dev="sseifert">
        Use oakAuthorizableUuid CONGA handlebars helper to generate authorizable UUID.
      </action>
      <action type="fix" dev="sseifert">
        Generate Wcmio-CAService-ContextPathRegex bundle header only for wcm.io Handler projects.
      </action>
      <action type="fix" dev="sseifert">
        Remove obsolete admin templates when Context-Aware configuration is deactivated.
      </action>
    </release>

    <release version="1.0.0" date="2017-12-20">
      <action type="add" dev="sseifert">
        Initial release.
      </action>
    </release>

  </body>
</document>
